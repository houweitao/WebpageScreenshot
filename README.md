# WebpageScreenshot
Chrome extension

# 网页截图 Chrome 扩展

一个模拟 Chrome 原生截图功能的浏览器扩展，支持整页截图和可视区域截图。

## 功能特性

- 🖼️ **整页截图**：自动滚动页面并拼接完整截图，类似 Chrome DevTools 的 "Capture full size screenshot" 功能
- 👁️ **可视区域截图**：快速截取当前可见的页面内容
- 🚀 **高性能**：使用原生 Chrome API，截图速度快，分辨率高
- 💾 **自动保存**：截图自动保存到浏览器的默认下载文件夹
- 🎨 **友好界面**：简洁美观的弹出窗口界面

## 安装方法

### 开发者模式安装

1. 打开 Chrome 浏览器，进入扩展程序页面：
   - 地址栏输入 `chrome://extensions/`
   - 或者通过菜单：`更多工具` → `扩展程序`

2. 开启 **开发者模式**（页面右上角开关）

3. 点击 **加载已解压的扩展程序**

4. 选择本项目的文件夹

5. 扩展安装完成后，会在工具栏显示图标

## 使用方法

### 方法一：通过扩展图标

1. 点击工具栏中的扩展图标
2. 在弹出窗口中选择截图类型：
   - **整页截图**：截取完整网页内容
   - **可视区域截图**：截取当前可见区域

### 快捷键（可选配置）

可以在 Chrome 扩展程序页面为本扩展配置快捷键。

## 技术实现

### 核心技术

- **Chrome Extension Manifest V3**：使用最新的扩展规范
- **chrome.tabs API**：用于截取可视区域
- **chrome.scripting API**：注入脚本获取页面信息
- **Canvas API**：用于图片拼接和处理

### 整页截图原理

1. 获取页面完整尺寸（包括滚动区域）
2. 计算需要截取的片段数量
3. 逐个滚动并截取每个可视区域
4. 使用 Canvas 将所有片段拼接成完整图片
5. 恢复页面原始滚动位置

### 文件结构

```
├── manifest.json          # 扩展配置文件
├── popup.html            # 弹出窗口界面
├── popup.js              # 弹出窗口逻辑
├── background.js         # 后台服务脚本
├── content.js            # 内容脚本
├── icons/                # 扩展图标
└── README.md             # 说明文档
```

## 权限说明

本扩展需要以下权限：

- `activeTab`：访问当前活动标签页
- `tabs`：截取标签页内容
- `downloads`：保存截图文件
- `scripting`：注入脚本获取页面信息

## 限制说明

- 无法在 Chrome 系统页面（如 `chrome://` 或 `chrome-extension://`）使用
- 某些网站可能有内容安全策略限制
- 非常长的页面可能需要较长处理时间

## 与 Chrome 原生截图对比

| 功能 | Chrome 原生 | 本扩展 |
|------|-------------|--------|
| 截图质量 | 高 | 高 |
| 使用便捷性 | 需要开发者工具 | 一键使用 |
| 整页截图 | ✅ | ✅ |
| 可视区域截图 | ❌ | ✅ |
| 自定义选项 | 有限 | 可扩展 |

## 开发说明

### 环境要求

- Chrome 88+ 或其他 Chromium 内核浏览器
- 支持 Manifest V3 的浏览器版本

### 调试方法

1. 在 `chrome://extensions/` 页面点击扩展的 **详细信息**
2. 开启 **收集错误**
3. 查看 **背景页** 的控制台输出
4. 使用 **检查弹出式窗口** 调试界面

### 自定义配置

可以在代码中修改以下配置：

- 截图文件命名格式
- 截图质量设置
- 滚动等待时间
- 界面样式

## 更新日志

### v1.0.0
- 初始版本发布
- 支持整页截图和可视区域截图
- 实现基础 UI 界面

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目。

## 许可证

MIT License